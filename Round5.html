<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Round 5</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>

<div class="container mt-5">
    <h2>Round Five Guess!:</h2>

    <!-- Dropdown Menus in a Row -->
    <div class="d-flex gap-3">
        <!-- Current Rank Dropdown -->
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="currentRankButton"
                    data-bs-toggle="dropdown" aria-expanded="false">
                Current Rank
            </button>
            <ul class="dropdown-menu" aria-labelledby="currentRankButton">
                <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Radiant')">Radiant</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Immortal 3')">Immortal 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Immortal 2')">Immortal 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Immortal 1')">Immortal 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Ascendent 3')">Ascendent 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Ascendent 2')">Ascendent 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Ascendent 1')">Ascendent 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Diamond 3')">Diamond 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Diamond 2')">Diamond 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Diamond 1')">Diamond 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Platnum 3')">Platnum 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Platnum 2')">Platnum 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Platnum 1')">Platnum 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Gold 3')">Gold 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Gold 2')">Gold 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Gold 1')">Gold 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Silver 3')">Silver 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Silver 2')">Silver 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Silver 1')">Silver 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Bronze 3')">Bronze 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Bronze 2')">Bronze 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Bronze 1')">Bronze 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Iron 3')">Iron 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Iron 2')">Iron 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('current', 'Iron 1')">Iron 1</a></li>
                <!-- Add more ranks as needed following the same structure as above -->
            </ul>
        </div>

        <!-- Peak Rank Dropdown -->
        <div class="dropdown">
            <button class="btn btn-secondary dropdown-toggle" type="button" id="peakRankButton"
                    data-bs-toggle="dropdown" aria-expanded="false">
                Peak Rank
            </button>
            <ul class="dropdown-menu" aria-labelledby="peakRankButton">
                <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Radiant')">Radiant</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Immortal 3')">Immortal 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Immortal 2')">Immortal 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Immortal 1')">Immortal 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Ascendent 3')">Ascendent 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Ascendent 2')">Ascendent 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Ascendent 1')">Ascendent 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Diamond 3')">Diamond 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Diamond 2')">Diamond 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Diamond 1')">Diamond 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Platnum 3')">Platnum 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Platnum 2')">Platnum 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Platnum 1')">Platnum 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Gold 3')">Gold 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Gold 2')">Gold 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Gold 1')">Gold 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Silver 3')">Silver 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Silver 2')">Silver 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Silver 1')">Silver 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Bronze 3')">Bronze 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Bronze 2')">Bronze 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Bronze 1')">Bronze 1</a></li>
                    <li><hr class="dropdown-divider"></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Iron 3')">Iron 3</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Iron 2')">Iron 2</a></li>
                    <li><a class="dropdown-item" href="#" onclick="selectRank('peak', 'Iron 1')">Iron 1</a></li>
                <!-- Add more ranks as needed following the same structure as above -->
            </ul>
        </div>
    </div>

    <!-- Submit Button -->
    <button class="btn btn-primary mt-3" onclick="submitRanks()" id="submitBtn">Submit</button>

    <!-- Result Display -->
    <p id="result" class="mt-3"></p>

    <!-- Continue Button (initially hidden) -->
    <a href="total.html" class="btn btn-primary mt-3" id="continueBtn" style="display: none;">Finish!</a>

    <!-- Timer Display -->
    <p id="timer" class="mt-3"></p>

</div>

<!-- Bootstrap JS (requires Popper.js for dropdowns) -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.min.js"></script>

<script>
    const correctRanks = { current: "Radiant", peak: "Immortal 3" }; // Update correct answers
    let selectedRanks = { current: null, peak: null };
    let attempts = 0;
    let score = 0;
    let timer; // For interval
    let timeRemaining = 90; // 1 minute 30 seconds in seconds

    function selectRank(type, rank) {
        selectedRanks[type] = rank;
        document.getElementById(type + "RankButton").textContent = rank;
    }

    function submitRanks() {
        if (attempts >= 3 || timeRemaining <= 0) {
            return;
        }

        attempts++;
        const resultElement = document.getElementById("result");

        let message = "";
        let pointsAwarded = 0;

        if (selectedRanks.current === correctRanks.current) {
            pointsAwarded += 100;
        }
        if (selectedRanks.peak === correctRanks.peak) {
            pointsAwarded += 50;
        }

        score += pointsAwarded;

        if (pointsAwarded === 150) {
            message = "Both ranks are correct!";
            resultElement.style.color = "green";
            document.getElementById("submitBtn").disabled = true;
            endGame();
        } else {
            message = `One or both ranks are incorrect. Points awarded: ${pointsAwarded}`;
            resultElement.style.color = "red";
            if (attempts >= 3) {
                document.getElementById("submitBtn").disabled = true;
                endGame();
            }
        }
        resultElement.textContent = `${message} Attempts left: ${3 - attempts}. Score: ${score}`;
    }

    function endGame() {
        clearInterval(timer);
        document.getElementById("continueBtn").style.display = "inline-block";
    }

    function startTimer() {
        timer = setInterval(() => {
            timeRemaining--;

            const minutes = Math.floor(timeRemaining / 60);
            const seconds = timeRemaining % 60;
            document.getElementById("timer").textContent = `Time left: ${minutes}:${seconds < 10 ? "0" + seconds : seconds}`;

            if (timeRemaining <= 0) {
                clearInterval(timer);
                document.getElementById("result").textContent = "Time's up!";
                document.getElementById("submitBtn").disabled = true;
                endGame();
            }
        }, 1000);
    }

    // Start timer when the page loads
    window.onload = startTimer;
</script>

</body>
</html>
